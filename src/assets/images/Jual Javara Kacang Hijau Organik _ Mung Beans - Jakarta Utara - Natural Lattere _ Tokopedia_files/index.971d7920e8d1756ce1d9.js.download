window.datalayerClientWeb=function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";r.r(n),r.d(n,"initializeGTM",(function(){return m})),r.d(n,"initializeGTMWithIris",(function(){return oe})),r.d(n,"initializeIris",(function(){return ie})),r.d(n,"sendPageViewIrisFromClient",(function(){return Q}));var t=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},i=function(e){return e instanceof Array},a=function(){return Boolean("undefined"!=typeof window)},c=function(){return Boolean(!1)},u=function(e){return e instanceof Error?e:"string"==typeof e?Error(e):new Error("Unknown error - ".concat(e))},s=function(e){var n=e.level,r=e.message,a=e.options,u=void 0===a?{}:a;if(u.debug||c()){var s=[];s=i(r)?r:[r],u.style&&(s=["%c ".concat([r].join(" ")),u.style]),console[n].apply(console,o([],t(s),!1))}return!0},l=function(e){try{return JSON.stringify(e)}catch(e){return""}},d=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},f=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},v=function(e,n){if("undefined"!=typeof window&&"undefined"!=typeof document&&!window.pollingDone){if("function"==typeof n)return e.map((function(e){return n([],e)})),void(window.pollingDone=!0);i(n)&&n.forEach((function(n){"function"==typeof n&&(e.map((function(e){return n([],e)})),window.pollingDone=!0)}))}},p=function(e,n){var r=window[e].push;"undefined"==typeof window||"undefined"==typeof document||window.pollingDone||v(window[e],n),window[e].push=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];try{"function"==typeof r&&r.apply(void 0,f([],d(t),!1))}catch(e){var i=u(e).message;s({level:"error",message:"Error inject hooks - ".concat(i)})}"function"==typeof n?(v(window[e],n),n.apply(void 0,f([window[e]],d(t),!1))):n instanceof Array&&n.forEach((function(n){"function"==typeof n&&(v(window[e],n),n.apply(void 0,f([window[e]],d(t),!1)))}))}},m=function(e,n,r){if(void 0===e&&(e="dataLayer"),"undefined"!=typeof window&&"undefined"!=typeof document&&!window.init_iris_new){for(var t=!1,o=document.getElementsByTagName("script"),i=0;i<o.length;i++)if(o[i]&&o[i].src&&o[i].src.includes("www.googletagmanager.com/gtm.js?id=".concat(r))){t=!0;break}try{if(window[e]=window[e]||[],t)p(e,n);else{var a=document.getElementsByTagName("script")[0],l=document.createElement("script"),d="dataLayer"!==e?"&l=".concat(e):"";l.async=!0,l.src="//www.googletagmanager.com/gtm.js?id=".concat(r).concat(d),n&&l.addEventListener("load",(function(){p(e,n),n||window[e].push({"gtm.start":(new Date).getTime(),event:"gtm.js"})})),c()&&s({level:"log",message:"[GTM] Initialized with ID ".concat(r," and trackerName ").concat(e)}),a.parentNode?a.parentNode.insertBefore(l,a):document.getElementsByTagName("head")[0].append(l)}return void(window.init_iris_new=!0)}catch(e){var f=u(e).message;return void s({level:"log",message:"[GTM] Error Initializing GTM - ".concat(f)})}}s({level:"warn",message:"[GTM] Warning! window or document object not found"})},g="color: white; background: #5db649;",w=[],y=["peduli-lindungi"],h=["authenticated"],b=[],_=[],I=[],S=[["domainHash","string"],["uuid","string"],["initialVisit","number"],["beginningPrev","number"],["beginningCurr","number"],["counter","number"]],k=["pageviewIris","__callPageview"],x=function(e){try{var n=a();if(!e)return;if(!n||n&&!document||n&&document&&!document.cookie)return;var r=encodeURIComponent(e).replace(/[-.+*\\]/g,"\\$&"),t=new RegExp("(?:(?:^|.*;)\\s*".concat(r,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return decodeURIComponent(document.cookie.replace(t,"$1"))||void 0||void 0}catch(e){var o=u(e).message;return void s({level:"error",message:o})}},E=function(e){return"non-tokopedia"===e?"string"==typeof window.__IRIS_API_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"tuid"},O=function(e){try{return btoa(e)}catch(n){return e}},P=function(){try{for(var e="",n=4294967296*window.crypto.getRandomValues(new Uint32Array(1))[0]>>>0,r=0;r<32;r++){var t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx"[r-1],o=15&n;e+="-"===t||"4"===t?t:("x"===t?o:3&o|8).toString(16),n=r%8==0?4294967296*Math.random()>>>0:n>>4}return e.toString()}catch(e){return new Array(32).fill(null).reduce((function(e){return"".concat(e).concat("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(32*Math.random())))}),"")}},T=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},j=function(){var e=x("ISID");return e?function(e,n){try{if("string"==typeof e)return JSON.parse(e);throw new Error}catch(e){return n}}(e,{}):{}},N=function(e){var n,r=e.prevIrisSession,t=e.options,o=void 0===t?{}:t,i=window.location.hostname,a=o.currentTime?o.currentTime:(new Date).getTime();return void 0!==r&&"string"==typeof r.domainHash&&"string"==typeof r.uuid&&"number"==typeof r.initialVisit&&"number"==typeof r.beginningCurr&&"number"==typeof r.beginningPrev&&"number"==typeof r.counter?((n=JSON.parse(JSON.stringify(r))).domainHash=O(i),n.beginningCurr=a,o.increment?n.counter+=1:(n.beginningPrev=n.beginningCurr,n.initialVisit=a,n.uuid=P(),n.counter=1),c()&&s({level:"log",message:["[Iris Tracker] Old Iris Session found, updated session data",l(n)],options:{style:g}})):(n={domainHash:O(i),uuid:P(),initialVisit:a,beginningPrev:a,beginningCurr:a,counter:1},c()&&s({level:"log",message:["[Iris Tracker] Old Iris Session not found, generated new session data",l(n)],options:{style:g}})),n},A=function(e,n){void 0===n&&(n="default");var r=S.reduce((function(n,r){var t=T(r,1)[0];return n.push("".concat(e[t])),n}),[]);return"generate-iris-session"===n?r.slice(0,3).join("."):r.join(".")},C=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},D=function(e){var n=window.location.hostname,r=e.sessionString,t=e.domain,o=e.maxAge,i=j();i[n]=r;try{c()&&s({level:"log",message:["[Iris Tracker] Write Iris Session to Cookie ".concat(r),JSON.stringify(i)],options:{style:g}}),function(e){try{var n=e.cookieName,r=e.cookieValue,t={domain:e.domain,maxAge:e.maxAge},o=Object.keys(t).map((function(e){return";".concat((n=e,n.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))),"=").concat(t[e]);var n})).join("");document.cookie="".concat(n,"=").concat(encodeURIComponent(r)).concat(o,";path=/")}catch(e){var i=u(e).message;return s({level:"error",message:i}),!1}}({cookieName:"ISID",cookieValue:JSON.stringify(i),domain:t,maxAge:o})}catch(e){var a=u(e).message;return s({level:"error",message:a}),!1}return!0},M=function(e){var n=e.currentTime,r=e.domain,t=e.increment,o=e.maxAge,i=function(){var e=window.location.hostname,n=j(),r={};if("string"==typeof n[e]&&n[e].split(".").forEach((function(e,n){if(n<S.length){var t=C(S[n],2),o=t[0];switch(t[1]){case"number":r[o]=parseInt(e,10);break;case"string":default:r[o]=e}}})),c()&&s({level:"log",message:l(n),options:{style:g}}),r&&r.domainHash&&r.uuid&&r.initialVisit&&r.beginningCurr&&r.beginningPrev&&r.counter)return{beginningCurr:r.beginningCurr,beginningPrev:r.beginningPrev,counter:r.counter,domainHash:r.domainHash,initialVisit:r.initialVisit,uuid:r.uuid}}(),a=N({options:{currentTime:n,increment:t},prevIrisSession:i});window.irisSessionRaw=a,window.irisSession=A(a,"generate-iris-session"),c()&&s({level:"log",message:"[Iris Tracker] Update Iris Session ".concat(l(a)),options:{style:g}}),D({domain:r,maxAge:o,sessionString:A(a)})},V=function(e){var n=e.domain;a()&&(c()&&s({level:"log",message:"[Iris Tracker] Manage Iris Session Starts !",options:{style:g}}),M({domain:n,increment:!0,maxAge:31536e3}),window.addEventListener("beforeunload",(function(){var e=window.irisSessionRaw,r=A(e||N({}));c()&&s({level:"log",message:"[Iris Tracker] Triggered write Iris cookie ".concat(l(window.irisSessionRaw)),options:{style:g}}),D({domain:n,maxAge:31536e3,sessionString:r})})))},R=function(e){try{var n=e.apps,r=void 0===n?"tokopedia":n,t=e.cookieName;if(!t)throw new Error;if(!a())throw new Error;if(function(e){if(void 0===e&&(e="tokopedia"),a()){if("non-tokopedia"===e)return!0;var n=!1,r=!0,t=window.location.href;return w.length?w.forEach((function(e){!n&&t.indexOf(e)>-1&&(n=!0)})):n=!0,y.length?y.forEach((function(e){r&&t.indexOf(e)>-1&&(r=!1)})):r=!0,n&&r}return!1}(r))return x(t);throw new Error}catch(e){return}},H=function(e,n){return"boolean"==typeof n||"number"==typeof n||null==n||"symbol"==typeof n?String(n):(i(n)&&n.forEach((function(e){H(void 0,e)})),n)},U=function(e){return void 0===e&&(e="tokopedia"),"non-tokopedia"===e?"string"==typeof window.__IRIS_API_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"https://hub.tokopedia.com/iris/v1/track/event"},G=function(e){return void 0===e&&(e="tokopedia"),"non-tokopedia"===e?"string"==typeof window.__IRIS_API_BATCH_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"https://hub.tokopedia.com/iris/v1/track/dim-event"},L=function(){return(L=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},B=function(e,n,r,t){return new(r||(r=Promise))((function(o,i){function a(e){try{u(t.next(e))}catch(e){i(e)}}function c(e){try{u(t.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}u((t=t.apply(e,n||[])).next())}))},F=function(e,n){var r,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,t&&(o=2&c[0]?t.return:c[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,c[1])).done)return o;switch(t=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,t=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],t=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function J(e){return/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(e)?"Tablet":/Mobile|Android|iPhone|iPod/i.test(e)?"Mobile":"Desktop"}var z=function(){return(z=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},W=function(e,n,r,t){return new(r||(r=Promise))((function(o,i){function a(e){try{u(t.next(e))}catch(e){i(e)}}function c(e){try{u(t.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}u((t=t.apply(e,n||[])).next())}))},$=function(e,n){var r,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,t&&(o=2&c[0]?t.return:c[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,c[1])).done)return o;switch(t=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,t=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],t=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},K=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r},X=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Y=function(e){var n=e.apps,r=e.payload,t=e.isEventPerformance,o=e.headers;navigator&&"function"==typeof navigator.sendBeacon?function(e){var n=e.apps,r=e.payload,t=e.isEventPerformance;try{var o=t?G(n):U(n);if(void 0===o)return;if(null==r)return;c()&&s({level:"log",message:["[Iris Tracker] PUSH via beacon - start",l(r)],options:{style:g}}),navigator.sendBeacon(o,l({data:r}))}catch(e){var i=u(e).message;s({level:"error",message:["[Iris Tracker] PUSH via beacon - error",i]})}}({apps:n,payload:r,isEventPerformance:t}):function(e){B(void 0,void 0,void 0,(function(){var n,r,t,o,i,a,d,f,v,p;return F(this,(function(m){switch(m.label){case 0:n=e.payload,r=e.apps,t=e.config,o=void 0===t?{}:t,i=e.configHeaders,a=void 0===i?{}:i,d=e.isEventPerformance,m.label=1;case 1:return m.trys.push([1,4,,5]),void 0===(f=d?G(r):U(r))?[2]:null==n?[2]:(c()&&s({level:"log",message:["[Iris Tracker] PUSH via fetch API - start",l(n)],options:{style:g}}),[4,fetch(f,L(L({},o),{method:"POST",body:(w={data:n},JSON.stringify(w,H)),headers:L({"Content-Type":"application/json"},a)}))]);case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:return v=m.sent(),p=u(v).message,s({level:"error",message:["[Iris Tracker] PUSH via fetch API - error",p]}),[3,5];case 5:return[2]}var w}))}))}({apps:n,payload:r,isEventPerformance:t,configHeaders:"object"==typeof o?o:void 0})},Z=function(e){return W(void 0,void 0,void 0,(function(){var n,r,t,o,a,d,f,v,p,m,w,y;return $(this,(function(S){return n=e.container,r=e.customEventField,t=e.defaultEventValue,o=e.apps,a=void 0===o?"tokopedia":o,d=e.domain,f=void 0===d?"tokopedia.com":d,v=e.gtmID,p=void 0===v?"":v,w=0,window.gaClientId=window.gtagClientId,y=function(e,o){try{var d=(new Date).getTime(),v=void 0,m="event";if("string"==typeof r&&(m=r),"object"!=typeof(L=o)||i(L)||null===L?function(e){return"string"==typeof e}(o)&&(v=function(e){var n,r=e.tracker,t=e.customEventFieldName,o=e.defaultEventValue;if(t)return(n={event:o||"default_v2"})[t]=r,n.event_ga=null,n}({tracker:o,customEventFieldName:r,defaultEventValue:t})):v=function(e){var n=e.tracker,r=e.customEventFieldName,t=e.defaultEventValue;try{if(Object.prototype.hasOwnProperty.call(n,"event")&&n.event){var o=n.event,i=K(n,["event"]);if(i.event=o,Object.prototype.hasOwnProperty.call(i,"gtm.element")&&"object"==typeof i["gtm.element"]&&null!==i["gtm.element"]){var a="",c=i["gtm.element"]||{},l=c.id,d=c.className;"string"==typeof l&&l&&(a="".concat(a,"#").concat(l)),"string"==typeof d&&d&&(a="".concat(a,".").concat(d.replace(/\s/g,"."))),i["gtm.element"]=a}return r&&(i[r]=o,i.event=t||"default_v2"),i}throw new Error("[Iris Tracker] Event pushed without event name, data will be rejected")}catch(e){var f=u(e).message;s({level:"error",message:f})}}({tracker:o,customEventFieldName:r,defaultEventValue:t}),"object"!=typeof v&&null!==v)throw new Error("Iris tracker only accepts object or string!");if("string"==typeof v.event&&!v.event_ga.includes("gtm.")){var w=v.headers,y=v.event_ga.startsWith("performance_");!function(e){var n=e.currentTime,r=e.domain;if(void 0!==window.irisSessionRaw){var t=window.irisSessionRaw.beginningCurr,o=new Date(n),i=new Date(t),a=n-t,u=o.getDate()!==i.getDate(),l=a>=18e5;if(c()&&s({level:"log",message:"[Iris Tracker] Check Iris session, current time ".concat(n,", diff is ").concat(a)}),u||l)return c()&&(u&&s({level:"log",message:"[Iris Tracker] Trying to updateIrisSession due to midnight"}),l&&s({level:"log",message:"[Iris Tracker] Trying to updateIrisSession due to inactivity for ".concat(18e5," ms")})),void M({currentTime:n,domain:r,maxAge:31536e3});window.irisSessionRaw.beginningCurr=n}}({currentTime:d,domain:f});var S=Object.fromEntries(Object.entries(v).filter((function(e){var n=X(e,1)[0];return!["headers","userId"].includes(n)}))),O=R({apps:a,cookieName:E(a)});if(y){var P=[{user_id:O,device_id:x("DID_JS"),device:v.device,app:v.app,event_data:[z(z({},v),{container:n,event:v.event_ga,event_ga:"performanceTrack",iris_session_id:window.irisSession,hits_time:d})]}];return void Y({apps:a,payload:P,isEventPerformance:!0,headers:w})}var T=window.gtagClientId,j=z(z(z({},S),function(){var e,n,r,t,o,i,a=window.navigator.userAgent,c=window.navigator,u=window.screen,s=c.userAgentData,l=null===(n=null===(e=null==s?void 0:s.brands)||void 0===e?void 0:e[0])||void 0===n?void 0:n.brand,d=null===(t=null===(r=null==s?void 0:s.brands)||void 0===r?void 0:r[0])||void 0===t?void 0:t.version,f=null==s?void 0:s.platform,v=(null===(o=null==c?void 0:c.connection)||void 0===o?void 0:o.effectiveType)||"",p=(null==c?void 0:c.deviceMemory)||0,m=(null==c?void 0:c.platform)||"",g=(null==c?void 0:c.product)||"",w=(null==c?void 0:c.vendor)||"",y=(null==c?void 0:c.language)||"",h=function(e){var n={"Mozilla Firefox":/Firefox\/(\d+\.\d+)/i,"Samsung Internet":/SamsungBrowser\/(\d+\.\d+)/i,Opera:/OPR\/(\d+\.\d+)/i,"Microsoft Edge (Legacy)":/Edge\/(\d+\.\d+)/i,"Microsoft Edge (Chromium)":/Edg\/(\d+\.\d+)/i,"Google Chrome or Chromium":/Chrome\/(\d+\.\d+)/i,"Apple Safari":/Safari\/(\d+\.\d+)/i};for(var r in n)if(r.includes("Microsoft Edge (Chromium)")){if(t=n[r].exec(e))return{browserName:r,browserVersion:t[1]}}else{var t,o=e.replace(/Edge/g,"Edge (Chromium)");if(t=n[r].exec(o))return{browserName:r,browserVersion:t[1]}}return{browserName:"",browserVersion:""}}(a),b="object"==typeof h.browserName?null===(i=h.browserName)||void 0===i?void 0:i[0]:h.browserName,_=function(e){var n,r={apple:/iPhone|iPad|iPod/i,samsung:/SM-\w{4}/i,xiaomi:/Redmi Note \d/i,huawei:/HMA-\w{4}/i,oneplus:/IN\d{4}/i,oppo:/CPH\d{4}/i,vivo:/V\d{4}/i,realme:/RMX\d{4}/i};for(var t in r)if(r[t].test(e))return{brand:t,model:(null===(n=e.match(r[t]))||void 0===n?void 0:n[0])||""};return{brand:"",model:""}}(a),I=function(e){var n={windows:/Windows NT (\d+(\.\d+)?)/i,macos:/Macintosh; Intel Mac OS X (\d+_(\d+)(_\d+)?)?/i,android:/Android (\d+(\.\d+)?)/i,ios:/iPhone OS (\d+(\.\d+)?)/i};for(var r in n){var t=n[r].exec(e);if(t)return{name:r,version:t[1]}}return{name:"",version:""}}(a);return{device_browser:b||l,device_browserVersion:h.browserVersion||d,device_osVersion:I.name||f,operating_system_version_name:I.version,device_mobileDeviceBranding:_.brand,device_mobileDeviceModel:_.model,memory:p,connection:v,platform:m,product:g,vendor:w,device_language:y,device_screenResolution:"".concat(u.width,"x").concat(u.height),device_category_name:J(a)}}()),{user_id:O,container:n,iris_session_id:window.irisSession,url:window.location.href,hits_time:d,deviceId:x("DID_JS"),version:"3.7.0",gtm_id:p||(U=document.querySelector('script[src*="googletagmanager.com/gtm.js"]'),G="script"===(null==(D=U)?void 0:D.tagName.toLowerCase())&&U.src.match(/id=([^\s'"]+)/i),V=(null==G?void 0:G[1])||"",((H=V.match(/GTM-[A-Za-z0-9_-]+/))?H[0]:null)||""),service_name:window.__service||"",page_type:window.__PAGE_TYPE__||window.location.pathname}),N=j[m];if("string"==typeof N&&k.includes(N)){var A=new URLSearchParams(window.location.search).get("appClientId");A&&(j.appClientId=A)}if(T&&("string"==typeof N&&void 0!==window.gaClientId&&k.includes(N)&&(j.newVisit=1,window.gaClientId=T),j.clientId=T,j.referrer=document.referrer),j&&function(e){var n=e.eventAttributeKey,r=e.tracker;try{var t=!0,o=!0,i=!0,a=!0;return n&&Object.prototype.hasOwnProperty.call(r,n)&&h.length>0&&(t=void 0===h.find((function(e){return r[n]===e}))),Object.prototype.hasOwnProperty.call(r,"eventAction")&&b.length>0&&(o=void 0===b.find((function(e){return r.eventAction===e}))),Object.prototype.hasOwnProperty.call(r,"eventCategory")&&_.length>0&&(a=void 0===_.find((function(e){return r.eventCategory===e}))),Object.prototype.hasOwnProperty.call(r,"eventLabel")&&I.length>0&&(i=void 0===I.find((function(e){return r.eventLabel===e}))),o&&i&&a&&t}catch(e){return!1}}({eventAttributeKey:m,tracker:j}))return void Y({apps:a,payload:j,isEventPerformance:!1,headers:w})}s({level:"log",message:["[Iris Tracker] failed to PUSH event",l(o)],options:{style:g}})}catch(e){var C=u(e).message;s({level:"error",message:"[Iris Tracker] PUSH event error - ".concat(C)})}var D,V,H,U,G,L},[2,new Promise((function(e){m=setInterval((function(){if(window.gtagClientId||w<10)return e(y),void clearInterval(m);w+=1}),1e3)}))]}))}))},q=function(){try{if("undefined"!=typeof window){var e=new URLSearchParams(window.location.search),n=e.get("utm_source")||"",r=e.get("utm_medium")||"",t=e.get("utm_campaign")||"",o=e.get("utm_term")||"",i=e.get("utm_content")||"",a=e.get("gclid")||"";if(""===n&&""===r){var c=function(e){var n="",r="",t=new URL(e),o=t.hostname,i=t.pathname,a=["tokopedia.com","www.tokopedia.com"].includes(o);return a&&"/amp"===i?(n="amp",r="organic"):["google.com","google.co.id","www.google.com","www.google.co.id"].includes(o)?(n="google",r="organic"):a||(n=o,r="referral"),{new_utm_source:n,new_utm_medium:r}}(document.referrer);n=c.new_utm_source,r=c.new_utm_medium}return{event:"pageviewIris",url:window.location.href,page_type:window.__PAGE_TYPE__,environment:window.NODE_ENV,service:window.__service,trackerId:"",utm_source:n,utm_medium:r,utm_campaign:t,utm_term:o,utm_content:i,gclid:a}}throw new Error("Only applied on CSR")}catch(e){return}},Q=function(e){var n=e.container,r=e.apps,t=void 0===r?"tokopedia":r,o=e.customEventField,i=e.defaultEventValue;Z({apps:t,container:n,customEventField:o,defaultEventValue:i}).then((function(e){e(void 0,q())}))},ee=function(){return(ee=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ne=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r},re=function(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,o,i=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},te=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},oe=function(e,n,r){var t=e.apps,o=void 0===t?"tokopedia":t,i=e.domain,a=void 0===i?"tokopedia.com":i,c=ne(e,["apps","domain"]);V({domain:a}),Z(ee(ee({},c),{apps:o,domain:a,gtmID:r})).then((function(e){var t=e;t(void 0,q()),m(n,t,r)}))},ie=function(e,n,r,t){var o=e.apps,i=void 0===o?"tokopedia":o,a=e.domain,c=void 0===a?"tokopedia.com":a,l=ne(e,["apps","domain"]);if("undefined"!=typeof window&&"undefined"!=typeof document&&!window.init_iris_new)try{V({domain:c}),Z(ee({apps:i,domain:c,gtmID:t},l)).then((function(e){var t=e;if(t(void 0,q()),window[n]=[],window[n].push=t,r){var o=(window[n]||{}).push;window[n].push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("function"==typeof o&&o.apply(void 0,te([window[n]],re(e),!1)),"function"==typeof r)return r.apply(void 0,te([window[n]],re(e),!1)),void(window.init_iris_new=!0);if(r instanceof Array)return r.forEach((function(r){"function"==typeof r&&r.apply(void 0,te([window[n]],re(e),!1))})),void(window.init_iris_new=!0);throw new Error("Hooks argument is not function or array format")}}}))}catch(e){var d=u(e).message;return void s({level:"error",message:["[Iris Tracker] Error initializing Iris instance - ".concat(d)]})}s({level:"error",message:"[Iris Tracker] No window and document instance found"})}}]);